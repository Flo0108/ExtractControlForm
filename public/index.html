<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Situated Mapping</title>
<!-- Leaflet CSS & JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- MarkerCluster AFTER Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css">
<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

<style>
  html, body { height: 100%; margin: 0; }
  #map { width: 100%; height: 100%; }

  #tool-sidebar, #topic-sidebar {
    position: absolute;
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 1000;
    background: rgba(255,255,255,0.9);
    padding: 8px;
    border-radius: 8px;
    max-height: 90%;
    overflow-y: auto;
  }

  /* Tool sidebar: top-left */
  #tool-sidebar { top: 10px; left: 10px; }
  /* Topic sidebar: top-right */
  #topic-sidebar { top: 10px; right: 10px; }

  button {
    cursor: pointer;
    padding: 6px 10px;
    border: 1px solid #ccc;
    background: #fff;
    border-radius: 4px;
    font-size: 14px;
    text-align: left;
  }
  button.selected { background: #c75430; color: #fff; border-color: #c75430; }

  /* Mobile adjustments */
  @media (max-width: 600px) {
    #tool-sidebar, #topic-sidebar {
      flex-direction: row;
      top: auto;
      bottom: 10px;
      left: 10px;
      right: 10px;
      justify-content: space-around;
      max-height: none;
      width: auto;
    }
    button { font-size: 12px; padding: 6px 8px; }
  }

</style>
</head>
<body>

<!-- Tool Sidebar -->
<!-- Tool Sidebar -->
<div id="tool-sidebar">
  <button data-tool="Point">üìç Point</button>
  <button data-tool="Line">üìè Line</button>
  <button data-tool="Arrow">‚û°Ô∏è Arrow</button>
  <button data-tool="Polygon">‚¨õ Area</button>
  <button data-tool="Volume">üü´ Volume</button>
  <button id="finishPolygonBtn" style="display:none;">‚úÖ Finish Area</button>
</div>

<!-- Topic Sidebar -->
<div id="topic-sidebar">
  <button data-topic="Physical">Physical</button>
  <button data-topic="Environmental">Environmental</button>
  <button data-topic="Behavioral">Behavioral</button>
  <button data-topic="Atmospheric">Atmospheric</button>
  <button data-topic="Cultural">Cultural</button>
  <button data-topic="Temporal">Temporal</button>
</div>




<!-- Map Container -->
<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- Firebase SDK (compat version) -->
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>


<!-- Custom Script -->
<script src="script.js"></script>

</body>
</html>
